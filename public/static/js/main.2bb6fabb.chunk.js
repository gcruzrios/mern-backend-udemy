(this["webpackJsonpmern-frontend"]=this["webpackJsonpmern-frontend"]||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a(33),n=a.n(r),s=(a(39),a(21)),o=a(3),l=a(12),i=(a(40),a(4)),d=a.n(i),j=a(10),b=a(2),m=a(6),u=a.n(m),h=a(13),O=a.n(h),x=a(0);function p(e){var t=Object(c.useState)(""),a=Object(b.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(""),o=Object(b.a)(s,2),l=o[0],i=o[1],m=Object(c.useState)(""),h=Object(b.a)(m,2),p=h[0],f=h[1],v=Object(c.useState)(""),g=Object(b.a)(v,2),N=g[0],S=g[1],w=Object(c.useState)([]),k=Object(b.a)(w,2),y=k[0],C=k[1],I=Object(c.useState)(""),F=Object(b.a)(I,2),E=F[0],q=F[1];Object(c.useEffect)((function(){B(),C(["Fijo","Temporal","Practicante"]),q("Fijo")}),[]);var B=function(){var t=Object(j.a)(d.a.mark((function t(){var a,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.match.params.id,c=localStorage.getItem("token"),t.next=4,u.a.get("/empleado/listar-empleado/".concat(a),{headers:{token:c}});case 4:r=t.sent,console.log(r.data),n(r.data.nombre),i(r.data.apellidos),f(r.data.identificacion),S(r.data.puesto),q(r.data.tcontrato);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(j.a)(d.a.mark((function t(a){var c,n,s,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),c=e.match.params.id,n=localStorage.getItem("token"),s={nombre:r,apellidos:l,identificacion:p,puesto:N,tcontrato:E},console.log(s),t.next=7,u.a.put("/empleado/actualizar/".concat(c),s,{headers:{token:n}});case 7:o=t.sent,i=o.data.mensaje,O.a.fire({icon:"success",title:i,showConfirmButton:!1,timer:1e3}),setTimeout((function(){window.location.href="/index"}),1500);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"container col-md-6 mt-4",children:Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"card-header",children:[Object(x.jsx)("h3",{children:"Editar"}),Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("form",{onSubmit:A,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Nombre"}),Object(x.jsx)("input",{type:"text",value:r,className:"form-control",required:!0,placeholder:"Nombre",onChange:function(e){return n(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Apellidos"}),Object(x.jsx)("input",{type:"text",value:l,className:"form-control",required:!0,placeholder:"Apellidos",onChange:function(e){return i(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Identificacion"}),Object(x.jsx)("input",{type:"text",value:p,className:"form-control",required:!0,placeholder:"Identificacion",onChange:function(e){return f(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Puesto"}),Object(x.jsx)("input",{type:"text",value:N,className:"form-control",required:!0,placeholder:"Puesto",onChange:function(e){return S(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Tipo de Contrato"}),Object(x.jsx)("select",{className:"form-control",onChange:function(e){return q(e.target.value)},value:E,children:y.map((function(e){return Object(x.jsx)("option",{children:e},e)}))})]}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("button",{className:"btn btn-warning",type:"submit",children:"Actualizar"})})]})})]})})})}function f(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),s=Object(b.a)(n,2),o=s[0],i=s[1],m=Object(c.useState)(""),h=Object(b.a)(m,2),p=h[0],f=h[1],v=Object(c.useState)(""),g=Object(b.a)(v,2),N=g[0],S=g[1],w=Object(c.useState)(""),k=Object(b.a)(w,2),y=k[0],C=k[1],I=Object(c.useState)([]),F=Object(b.a)(I,2),E=F[0],q=F[1],B=Object(c.useState)(""),A=Object(b.a)(B,2),T=A[0],P=A[1];Object(c.useEffect)((function(){U(),q(["Fijo","Temporal","Practicante"]),P("Fijo")}),[]);var U=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("idUsuario"),a=localStorage.getItem("token"),e.next=4,u.a.get("/empleado/listar-empleados-jefe/".concat(t),{headers:{token:a}});case 4:c=e.sent,c.data,r(c.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={nombre:o,apellidos:p,identificacion:N,puesto:y,tcontrato:T,jefe:localStorage.getItem("idUsuario")},console.log(a),c=localStorage.getItem("token"),e.next=6,u.a.post("/empleado/crear",a,{headers:{token:c}});case 6:r=e.sent,n=r.data.mensaje,O.a.fire({icon:"success",title:n,showConfirmButton:!1,timer:1e3}),setTimeout((function(){window.location.href="/index"}),1500);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.next=3,u.a.delete("/empleado/eliminar/".concat(t),{headers:{token:a}});case 3:c=e.sent,r=c.data.mensaje,O.a.fire({icon:"success",title:r,showConfirmButton:!1,timer:1500}),U();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("idUsuario"),console.log(a),""===t.target.value&&U(),c=t.target.value,n=localStorage.getItem("token"),e.next=7,u.a.get("/empleado/buscar/".concat(c,"/").concat(a),{headers:{token:n}});case 7:s=e.sent,r(s.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("header",{className:"py-2 bg-primary text-white",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsxs)("h1",{children:[" ",Object(x.jsx)("i",{className:"fas fa-pencil-alt",children:" "})," Empleados "]})})})})}),Object(x.jsx)("nav",{className:"navbar py-4",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsxs)(l.b,{to:"#",className:"btn btn-primary btn-block","data-toggle":"modal","data-target":"#addEmpleado",children:[" ",Object(x.jsx)("i",{className:"fas fa-plus"})," Add Empleado"]})}),Object(x.jsx)("div",{className:"col-md-6 ml-auto",children:Object(x.jsx)("div",{className:"input-group",children:Object(x.jsx)("input",{type:"search",name:"",id:"",placeholder:"Buscar ...","aria-label":"Search",onChange:function(e){return R(e)}})})})]})}),Object(x.jsx)("section",{children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-12",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-header",children:Object(x.jsxs)("h4",{children:["Empleados de: ",localStorage.getItem("nombre")]})}),Object(x.jsxs)("table",{className:"table table-responsive-lg table-striped",children:[Object(x.jsx)("thead",{className:"thead-dark",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",children:"#"}),Object(x.jsx)("th",{scope:"col",children:"Nombre"}),Object(x.jsx)("th",{scope:"col",children:"Apellidos"}),Object(x.jsx)("th",{scope:"col",children:"Identificacion"}),Object(x.jsx)("th",{scope:"col",children:"Puesto"}),Object(x.jsx)("th",{scope:"col",children:"Tipo de contrato"}),Object(x.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(x.jsx)("tbody",{children:a.length>0&&a.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.nombre}),Object(x.jsx)("td",{children:e.apellidos}),Object(x.jsx)("td",{children:e.identificacion}),Object(x.jsx)("td",{children:e.puesto}),Object(x.jsx)("td",{children:e.tcontrato}),Object(x.jsxs)("td",{children:[Object(x.jsx)(l.b,{to:"/editar/".concat(e._id),className:"btn btn-warning",children:"Editar "}),Object(x.jsx)("button",{className:"btn btn-danger",onClick:function(){return J(e._id)},children:"Eliminar"})]})]},e._id)}))})]})]})})})})}),Object(x.jsx)("div",{className:"modal fade",id:"addEmpleado",children:Object(x.jsx)("div",{className:"modal-dialog modal-lg",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header bg-primary text-white",children:[Object(x.jsx)("h5",{className:"modal-title",children:"Add Empleado"}),Object(x.jsx)("button",{className:"close","data-dismiss":"modal",children:Object(x.jsx)("span",{children:"\xd7"})})]}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsxs)("form",{onSubmit:D,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Nombre"}),Object(x.jsx)("input",{type:"text",name:"",className:"form-control",required:!0,placeholder:"Nombre",onChange:function(e){return i(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Apellidos"}),Object(x.jsx)("input",{type:"text",name:"",className:"form-control",required:!0,placeholder:"Apellidos",onChange:function(e){return f(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Identificacion"}),Object(x.jsx)("input",{type:"text",name:"",className:"form-control",required:!0,placeholder:"Identificacion",onChange:function(e){return S(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Puesto"}),Object(x.jsx)("input",{type:"text",name:"",className:"form-control",required:!0,placeholder:"Puesto",onChange:function(e){return C(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"Nombre",children:"Tipo de Contrato"}),Object(x.jsx)("select",{className:"form-control",onChange:function(e){return P(e.target.value)},children:E.map((function(e){return Object(x.jsx)("option",{value:"",children:e},e)}))})]}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Guardar"})})]})})]})})})]})})}function v(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),s=Object(b.a)(n,2),o=s[0],l=s[1],i=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,r,n,s,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={correo:a,contrasena:o},e.next=4,u.a.post("/jefe/login",c);case 4:r=e.sent,console.log(r),"Bienvenido"!==(n=r.data.mensaje)?O.a.fire({icon:"error",title:n,showConfirmButton:!1,timer:1500}):(s=r.data.token,l=r.data.nombre,i=r.data.id,localStorage.setItem("token",s),localStorage.setItem("nombre",l),localStorage.setItem("idUsuario",i),window.location.href="/index");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"container mt-5",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-6 mx-auto",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"container text-center mt-3",children:Object(x.jsx)("i",{className:"fas fa-user fa-3x mb-3"})}),Object(x.jsx)("div",{className:"card-header text-center",children:Object(x.jsx)("h4",{children:"Inicio de Sessi\xf3n Jefe"})}),Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("form",{onSubmit:i,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)("input",{type:"email",className:"form-control",autoFocus:!0,name:"",id:"",required:!0,onChange:function(e){return r(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"contrasena",children:"Contrase\xf1a"}),Object(x.jsx)("input",{type:"password",className:"form-control",name:"",id:"",required:!0,onChange:function(e){return l(e.target.value)}})]}),Object(x.jsx)("input",{type:"submit",className:"btn btn-primary btn-block",value:"Enviar"})]})})]})})})})}function g(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1];Object(c.useEffect)((function(){localStorage.getItem("token")&&r(!0)}),[]);return Object(x.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark p-2",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(l.b,{className:"navbar-brand",to:"/",children:"Inicio"}),Object(x.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(x.jsx)("span",{className:"navbar-toggler-icon"})}),a?Object(x.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(x.jsxs)("ul",{className:"navbar-nav  ml-auto",children:[Object(x.jsx)("li",{className:"nav-item ",children:Object(x.jsxs)(l.b,{className:"nav-link",to:"/",children:[" ",Object(x.jsx)("i",{className:"fas fa-user"})," Bienvenido: ",localStorage.getItem("nombre")]})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)(l.b,{className:"nav-link",to:"/",onClick:function(){return localStorage.clear(),void(window.location.href="/")},children:[" ",Object(x.jsx)("i",{className:"fas fa-user-times"})," Salir"]})})]})}):Object(x.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(x.jsx)("ul",{className:"navbar-nav  ml-auto",children:Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)(l.b,{className:"nav-link",to:"/registro",children:[Object(x.jsx)("i",{className:"fas fa-user-plus"})," Registrar"]})})})})]})})}function N(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),s=Object(b.a)(n,2),o=s[0],l=s[1],i=Object(c.useState)(""),m=Object(b.a)(i,2),h=m[0],p=m[1],f=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,r,n,s,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={nombre:h,correo:a,contrasena:o},e.next=4,u.a.post("/jefe/crear",c);case 4:r=e.sent,console.log(r),"Bienvenido"!==(n=r.data.mensaje)?O.a.fire({icon:"error",title:n,showConfirmButton:!1,timer:1500}):(s=r.data.token,l=r.data.nombre,i=r.data.id,localStorage.setItem("token",s),localStorage.setItem("nombre",l),localStorage.setItem("idUsuario",i),window.location.href="/index");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"container mt-5",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-6 mx-auto",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"container text-center mt-3",children:Object(x.jsx)("i",{className:"fas fa-user-plus fa-3x mb-3"})}),Object(x.jsx)("div",{className:"card-header text-center",children:Object(x.jsx)("h4",{children:"Registro Usuario Jefe"})}),Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("form",{onSubmit:f,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"nombre",children:"Nombre"}),Object(x.jsx)("input",{type:"text",className:"form-control",autoFocus:!0,name:"",id:"",required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)("input",{type:"email",className:"form-control",autoFocus:!0,name:"",id:"",required:!0,onChange:function(e){return r(e.target.value)}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"contrasena",children:"Contrase\xf1a"}),Object(x.jsx)("input",{type:"password",className:"form-control",name:"",id:"",required:!0,onChange:function(e){return l(e.target.value)}})]}),Object(x.jsx)("input",{type:"submit",className:"btn btn-primary btn-block",value:"Enviar"})]})})]})})})})}var S=function(){return!!localStorage.getItem("token")},w=function(e){return S()?Object(x.jsx)(o.b,Object(s.a)({},e)):Object(x.jsx)(o.a,{to:"/"})},k=function(e){return S()?Object(x.jsx)(o.a,{to:"/index"}):Object(x.jsx)(o.b,Object(s.a)({},e))};var y=function(){return Object(x.jsxs)(l.a,{children:[Object(x.jsx)(g,{}),Object(x.jsx)(k,{path:"/",exact:!0,component:v}),Object(x.jsx)(o.b,{path:"/registro",exact:!0,component:N}),Object(x.jsx)(w,{path:"/index",exact:!0,component:f}),Object(x.jsx)(w,{path:"/editar/:id",exact:!0,component:p})]})};u.a.defaults.baseURL="https://mern-backend-empleados.herokuapp.com",n.a.render(Object(x.jsx)(y,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.2bb6fabb.chunk.js.map